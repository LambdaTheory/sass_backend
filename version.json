{
  "version": "v1.2.4",
  "description": "修复并发安全测试和服务层错误处理",
  "date": "2025-10-10 17:38:50",
  "changes": [
    "修复每日发放限制逻辑，防止通过多次小额发放绕过限制",
    "添加预检查机制，在事务外部先检查每日限制",
    "在事务内部使用行锁重新检查每日限制，确保并发安全",
    "新增getPlayerItemAmountInTimeRangeWithLock方法支持事务内查询",
    "添加单元测试验证多次发放的累计限制检查",
    "确保每日限制功能在高并发场景下的正确性",
    "修复并发测试中mock逻辑，正确模拟record_type='GRANT'条件",
    "修复PlayerItemService.getPlayerItems方法中的空值检查，防止TypeError",
    "完善错误处理机制，提高系统稳定性"
  ]
}